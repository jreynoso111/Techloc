<div id="alerts-panel" class="rounded-3xl border border-slate-800 bg-slate-900/60 p-4 shadow-dashboard lg:w-[300px]" data-collapsed="false">
  <div class="flex items-center justify-between gap-3">
    <div>
      <p class="text-xs uppercase tracking-[0.3em] text-slate-400">Alerts</p>
      <h3 class="text-lg font-bold text-white">Priority Actions</h3>
    </div>
    <div class="flex items-center gap-2">
      <span class="rounded-full border border-amber-500/40 bg-amber-500/10 px-3 py-1 text-[10px] font-semibold uppercase text-amber-200">live</span>
      <button id="alerts-deals-count" type="button" class="hidden rounded-full border border-rose-500/50 bg-rose-500/15 px-3 py-1 text-[10px] font-semibold uppercase text-rose-200 transition hover:border-rose-400 hover:text-white" aria-live="polite" aria-haspopup="dialog" aria-controls="alerts-deals-modal"></button>
      <button id="alerts-toggle" type="button" class="flex h-8 w-8 items-center justify-center rounded-full border border-slate-700 bg-slate-950/60 text-slate-200 transition hover:border-blue-500 hover:text-white" aria-expanded="true" aria-controls="alerts-list alerts-badges">
        <i data-lucide="chevron-up" class="h-4 w-4"></i>
      </button>
    </div>
  </div>
  <div id="alerts-deals-modal" class="fixed inset-0 z-50 hidden items-center justify-center bg-slate-950/70 p-4" role="dialog" aria-modal="true" aria-hidden="true">
    <div class="flex h-[calc(100vh-6cm)] w-[calc(100vw-6cm)] flex-col gap-4 rounded-3xl border border-slate-800 bg-slate-950 p-4 shadow-2xl sm:p-6">
      <div class="flex items-center justify-between gap-3">
        <div>
          <p class="text-xs uppercase tracking-[0.3em] text-rose-300">Deals Alert</p>
          <h4 class="text-lg font-semibold text-white">Active Inventory Statuses</h4>
        </div>
        <button id="alerts-deals-modal-close" type="button" class="flex h-8 w-8 items-center justify-center rounded-full border border-slate-700 bg-slate-900/60 text-slate-200 transition hover:border-rose-400 hover:text-white" aria-label="Close alerts details">
          <i data-lucide="x" class="h-4 w-4"></i>
        </button>
      </div>
      <div class="flex flex-1 flex-col space-y-3 overflow-hidden text-sm text-slate-200">
        <p>The red badge reflects the number of DealsJP1 rows where Vehicle Status is Active, Stock, or Stolen.</p>
        <div class="flex flex-1 flex-col overflow-hidden rounded-2xl border border-slate-800 bg-slate-900/40 p-4">
          <div class="flex flex-wrap items-center justify-between gap-3">
            <p class="text-xs uppercase tracking-[0.2em] text-slate-400">Matching deals</p>
            <div class="relative">
              <button id="alerts-deals-columns-toggle" type="button" class="rounded-full border border-slate-700 bg-slate-950/70 px-3 py-1 text-[10px] font-semibold uppercase tracking-[0.2em] text-slate-200 transition hover:border-blue-400 hover:text-white" aria-expanded="false" aria-controls="alerts-deals-columns-panel">Columns</button>
              <div id="alerts-deals-columns-panel" class="absolute right-0 z-20 mt-2 hidden w-72 max-w-[calc(100vw-2rem)] rounded-2xl border border-slate-800 bg-slate-950/95 p-3 text-xs text-slate-200 shadow-lg">
                <p class="text-[10px] font-semibold uppercase tracking-[0.3em] text-slate-400">Visible columns</p>
                <div id="alerts-deals-columns-list" class="mt-3 max-h-60 space-y-2 overflow-y-auto pr-1"></div>
              </div>
            </div>
          </div>
          <div id="alerts-deals-filters" class="mt-3 flex flex-wrap gap-2 text-[10px] font-semibold uppercase tracking-[0.2em]"></div>
          <div id="alerts-deals-column-headers" class="mt-3 flex flex-wrap gap-2 text-[10px] font-semibold uppercase tracking-[0.2em]"></div>
          <div id="alerts-deals-list" class="mt-3 flex-1 space-y-2 overflow-y-auto text-xs text-slate-200"></div>
        </div>
      </div>
    </div>
  </div>
  <div id="alerts-badges" class="mt-3 hidden flex flex-wrap gap-2 text-xs text-slate-200">
    <span class="inline-flex items-center gap-2 rounded-xl border border-slate-800 bg-slate-950/40 px-2 py-1 text-[11px] font-semibold text-slate-200">
      <i data-lucide="satellite" class="h-3.5 w-3.5 text-amber-300"></i>
      <span id="alerts-gps-offline-badge">0</span>
    </span>
    <span class="inline-flex items-center gap-2 rounded-xl border border-slate-800 bg-slate-950/40 px-2 py-1 text-[11px] font-semibold text-slate-200">
      <i data-lucide="ban" class="h-3.5 w-3.5 text-rose-300"></i>
      <span id="alerts-blacklist-badge">0</span>
    </span>
    <span class="inline-flex items-center gap-2 rounded-xl border border-slate-800 bg-slate-950/40 px-2 py-1 text-[11px] font-semibold text-slate-200">
      <i data-lucide="activity" class="h-3.5 w-3.5 text-blue-300"></i>
      2
    </span>
  </div>
  <ul id="alerts-list" class="mt-3 space-y-2 text-xs text-slate-200">
    <li id="alerts-deals-row" class="hidden">
      <button id="alerts-deals-row-button" type="button" class="flex h-9 w-full items-center gap-3 rounded-xl border border-rose-500/40 bg-rose-500/10 px-2 py-1.5 text-rose-100 transition hover:border-rose-400 hover:text-white" aria-haspopup="dialog" aria-controls="alerts-deals-modal">
        <span class="flex h-7 w-7 items-center justify-center rounded-lg bg-rose-500/20 text-rose-200">
          <i data-lucide="alert-triangle" class="h-4 w-4"></i>
        </span>
        <div class="min-w-0 flex-1 text-left">
          <p class="truncate text-[11px] font-semibold text-white">DealsJP1 Alerts</p>
          <p class="truncate text-[10px] text-rose-100/80">Vehicle Status: active, stock, or stolen.</p>
        </div>
        <span id="alerts-deals-row-count" class="rounded-lg border border-rose-500/40 bg-rose-500/10 px-2 py-1 text-[10px] font-semibold uppercase text-rose-200">0</span>
      </button>
    </li>
    <li id="alerts-gps-offline-row" class="flex h-9 cursor-pointer items-center gap-3 rounded-xl border border-slate-800 bg-transparent px-2 py-1.5 text-slate-200 transition hover:bg-slate-900/40" role="button" tabindex="0" aria-pressed="false">
      <span class="flex h-7 w-7 items-center justify-center rounded-lg bg-slate-900/70 text-amber-300">
        <i data-lucide="satellite" class="h-4 w-4"></i>
      </span>
      <div class="min-w-0 flex-1">
        <p class="truncate text-[11px] font-semibold text-white">GPS Offline Cluster</p>
        <p class="truncate text-[10px] text-slate-400">VIN con Last Ping &gt; 10 d√≠as o sin dato.</p>
      </div>
      <span id="alerts-gps-offline-count" class="rounded-lg border border-amber-500/40 bg-amber-500/10 px-2 py-1 text-[10px] font-semibold uppercase text-amber-200">0</span>
    </li>
    <li id="alerts-blacklist-row" class="flex h-9 cursor-pointer items-center gap-3 rounded-xl border border-slate-800 bg-transparent px-2 py-1.5 text-slate-200 transition hover:bg-slate-900/40" role="button" tabindex="0" aria-pressed="false">
      <span class="flex h-7 w-7 items-center justify-center rounded-lg bg-slate-900/70 text-rose-300">
        <i data-lucide="ban" class="h-4 w-4"></i>
      </span>
      <div class="min-w-0 flex-1">
        <p class="truncate text-[11px] font-semibold text-white">Black List</p>
        <p class="truncate text-[10px] text-slate-400">Active VINs con repo o saldo vencido.</p>
      </div>
      <span id="alerts-blacklist-count" class="rounded-lg border border-rose-500/40 bg-rose-500/10 px-2 py-1 text-[10px] font-semibold uppercase text-rose-200">0</span>
    </li>
    <li class="flex h-9 items-center gap-3 rounded-xl border border-slate-800 bg-transparent px-2 py-1.5 text-slate-200 transition hover:bg-slate-900/40">
      <span class="flex h-7 w-7 items-center justify-center rounded-lg bg-slate-900/70 text-blue-300">
        <i data-lucide="activity" class="h-4 w-4"></i>
      </span>
      <div class="min-w-0 flex-1">
        <p class="truncate text-[11px] font-semibold text-white">Utilization Dip</p>
        <p class="truncate text-[10px] text-slate-400">Review deal status bars to spot shifts.</p>
      </div>
      <span class="rounded-lg border border-blue-500/40 bg-blue-500/10 px-2 py-1 text-[10px] font-semibold uppercase text-blue-200">watch</span>
    </li>
  </ul>
</div>
